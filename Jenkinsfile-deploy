pipeline{
   agent { node { label 'master' } }
   parameters {
       string(name: 'WF_PROCESS_INSTANCE_ID', defaultValue: '', description: '')
   } // End parameters
    stages {
        stage('Create RFC') {
            steps {
                script {
                    echo("Simulation only")
                } // End script
            } // End steps
        } // End stage
        stage ('Deploy Phase 1'){
            parallel {
                stage ('Keystores'){
                    steps {
                        script {
                            echo("Simulation only")
                        } // End script
                    }
                } // end stage
                stage ('Aliases'){
                    steps {
                        script {
                            echo("Simulation only")
                        } // End script
                    }
                } // end stage
                stage ('Caches'){
                    steps {
                        script {
                            echo("Simulation only")
                        } // End script
                    }
                } // end stage
                stage ('Kvms'){
                    steps {
                        script {
                            echo("Simulation only")
                        } // End script
                    }
                } // end stage
                stage ('Shared Flow'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
                stage ('Target Servers'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
            } // end parallel
        } // end stage
        stage ('Deploy Phase 2'){
            parallel {
                stage ('References'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
                stage ('Proxy'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
            } // end parallel
        } // end stage
        stage ('Deploy Phase 3'){
            parallel {
                stage ('Developers'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
                stage ('Flow Hooks'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
                stage ('Products'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
            } // end parallel
        } // end stage
        stage ('Deploy Phase 4'){
            parallel {
                stage ('Apps'){
                    steps {
                        script {
                            echo("Simulation only")
                            }
                        }
                } // end stage
            } // end parallel
        } // end stage
    } // End stages
    post {
        failure {
            script {
                echo("Simulation only")
            } // End script
        } // End failure
        success {
            script {
                echo("Simulation only")
            } // End script
        } // End success
        cleanup {deleteDir()}// Clean workspace
     } // End post
} // End pipeline
